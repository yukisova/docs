# JavaSocket网络编程

## 概述
问题提出：一般情况下，java代码是单机的，无法将一个程序计算的结果与操作的文件通过网络传递给其他主机  
定义：在网络通信协议下，不同计算机上运行的程序进行的数据传输  
可以使用`java.net`包轻松开发出常见的网络应用程序  

### 常见软件架构
- CS 客户端-服务器
  通过客户端程序与服务器进行联系，即JavaApp
  优：体验优秀；
  缺：需要同时开发客户端和服务端；用户下载和更新时很麻烦
- BS 浏览器-服务器
  通过网页的方式与服务器进行联系，即JavaWeb  
  优：不需要开发客户端，只需要页面+服务端；用户不需要另外下载
  缺：应用过大的话，用户体验将受到影响

### 网络编程三要素
- 对方电脑的网络地址——IP  
  设备在网络中的唯一标识
- 接收数据的软件——端口号  
  应用程序在设备中的唯一标识
- 网络传输的规则——协议  
  数据在网络中传输的规则

## InetAddress类-表示IP地址
1. 获取InetAddress对象——表示一台主机  
   `InetAddress.getByName(主机名或IP地址)`：获取InetAddress对象（静态方法）  
   `.getHostName()`：从对象中获取主机名
   `.getHostAddress()`：从对象中获取IP地址

## 发送端

### DatagramSocket类-构建基于UDP的发送端对象
重点：
- 绑定端口：发送端需要绑定一个端口，让数据通过绑定的端口朝外发送
  - 若绑定端口为空参，则表示为随机挑选可用端口使用；反之则为指定端口号发送  
方法：
- `.send(打包数据)`：发送打包的数据（见DatagramPacket类）
- `.close()`：释放资源

### DatagramPacket类-打包要发送的数据
重点：
- 发送端通过字节类型数组进行发送，

## 接收端
### DatagramSocket类-基于UDP的接收端对象
重点：
- 接收时绑定端口必须要与发送端口保持一致  
方法：
- `.receive(数据所存放的包)`：指定接收的数据所存放的包（见DatagramPacket类）

### DatagramPacket类-用于接收发送端发送的打包数据 
重点：
- 要定义一个空的字节数组，用于接收打包数据  
- 要针对接收到的数据进行解析，要用对应的变量对解析数据进行接收  
方法：
- `.getData()`：获取数据体字节数组（字节类型，要另外进行类型编码才能获取到真实数据）
- `.getLength()`：获取数据长度
- `.getAddress()`：获取接收到的数据所对应的IP信息（InetAddress类）
- `.getPort()`：获取发送端的端口号